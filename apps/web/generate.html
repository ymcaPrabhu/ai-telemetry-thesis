<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Thesis Generator - Generation Status</title>
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha1/dist/css/bootstrap.min.css" rel="stylesheet">
</head>
<body>
  <div class="container">
    <h1 class="mt-5">Thesis Generation Status</h1>
    <div class="progress mb-3">
      <div id="progress-bar" class="progress-bar" role="progressbar" style="width: 0%" aria-valuenow="0" aria-valuemin="0" aria-valuemax="100"></div>
    </div>
    <div id="outline-status"></div>
  </div>

  <script>
    const progressBar = document.getElementById('progress-bar');
    const outlineStatus = document.getElementById('outline-status');

    const outline = {
      title: 'My Thesis',
      chapters: [
        { title: 'Introduction', status: 'pending' },
        { title: 'Literature Review', status: 'pending' },
        { title: 'Methodology', status: 'pending' },
        { title: 'Results', status: 'pending' },
        { title: 'Discussion', status: 'pending' },
        { title: 'Conclusion', status: 'pending' },
      ],
    };

    function updateStatus() {
      let html = `<h3>${outline.title}</h3>`;
      html += '<ul>';
      for (const chapter of outline.chapters) {
        let color = 'text-secondary';
        if (chapter.status === 'in-progress') {
          color = 'text-primary';
        } else if (chapter.status === 'complete') {
          color = 'text-success';
        }
        html += `<li class="${color}">${chapter.title}</li>`;
      }
      html += '</ul>';
      outlineStatus.innerHTML = html;

      const completedChapters = outline.chapters.filter(c => c.status === 'complete').length;
      const progress = (completedChapters / outline.chapters.length) * 100;
      progressBar.style.width = `${progress}%`;
      progressBar.setAttribute('aria-valuenow', progress);
    }

    updateStatus();

    // Simulate progress
    let chapterIndex = 0;
    const interval = setInterval(() => {
      if (chapterIndex < outline.chapters.length) {
        outline.chapters[chapterIndex].status = 'in-progress';
        updateStatus();
        setTimeout(() => {
          outline.chapters[chapterIndex].status = 'complete';
          updateStatus();
          chapterIndex++;
        }, 1000);
      } else {
        clearInterval(interval);
        alert('Thesis generation complete!');
      }
    }, 2000);
  </script>
</body>
</html>
