<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Thesis Generator - Outline Editor</title>
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha1/dist/css/bootstrap.min.css" rel="stylesheet">
</head>
<body>
  <div class="container">
    <h1 class="mt-5">Outline Editor</h1>
    <div class="row">
      <div class="col-md-6">
        <h2>Edit</h2>
        <textarea id="outline-editor" class="form-control" rows="20"></textarea>
      </div>
      <div class="col-md-6">
        <h2>Preview</h2>
        <div id="outline-preview"></div>
      </div>
    </div>
    <button id="generate-btn" class="btn btn-primary mt-3">Generate Thesis</button>
  </div>

  <script>
    const editor = document.getElementById('outline-editor');
    const preview = document.getElementById('outline-preview');

    const initialOutline = {
      title: 'My Thesis',
      chapters: [
        { title: 'Introduction' },
        { title: 'Literature Review' },
        { title: 'Methodology' },
        { title: 'Results' },
        { title: 'Discussion' },
        { title: 'Conclusion' },
      ],
    };

    editor.value = JSON.stringify(initialOutline, null, 2);
    updatePreview();

    editor.addEventListener('input', updatePreview);

    function updatePreview() {
      try {
        const outline = JSON.parse(editor.value);
        let html = `<h3>${outline.title}</h3>`;
        html += '<ul>';
        for (const chapter of outline.chapters) {
          html += `<li>${chapter.title}</li>`;
        }
        html += '</ul>';
        preview.innerHTML = html;
      } catch (e) {
        preview.innerHTML = '<p class="text-danger">Invalid JSON</p>';
      }
    }
  </script>
</body>
</html>
